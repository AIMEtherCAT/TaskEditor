(function(t){function e(e){for(var i,r,s=e[0],n=e[1],c=e[2],p=0,d=[];p<s.length;p++)r=s[p],Object.prototype.hasOwnProperty.call(l,r)&&l[r]&&d.push(l[r][0]),l[r]=0;for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);m&&m(e);while(d.length)d.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],i=!0,s=1;s<a.length;s++){var n=a[s];0!==l[n]&&(i=!1)}i&&(o.splice(e--,1),t=r(r.s=a[0]))}return t}var i={},l={app:0},o=[];function r(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=i,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(a,i,function(e){return t[e]}.bind(null,i));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/TaskEditor/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],n=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var m=n;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("85ec")},"0ff9":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),l=a("5c96"),o=a.n(l),r=(a("0fae"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("el-page-header",{staticStyle:{"margin-bottom":"10px"},attrs:{content:"University of Nottingham EtherCAT Module Configuration"}}),a("el-tabs",{attrs:{"before-leave":t.call_update,stretch:""},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"Module Settings",name:"assignment"}},[a("new-generator")],1),a("el-tab-pane",{attrs:{label:"Config Generator",name:"generator"}},[a("code-gen",{ref:"generator"})],1)],1),t._m(0)],1)}),s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"copyright"},[a("div",{staticClass:"c_top"},[a("div",{staticClass:"xh"},[t._v("Made"),a("br"),t._v("with love")])]),a("div",[t._v("2025.05 v2.0")])])}],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-divider",[a("span",[t._v("Add Module")])]),a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{on:{click:function(e){return t.modules.push({type:3,task:[],latency_topic:"",sn:""})}}},[t._v("H750 Universal Module")])],1),a("el-divider",[a("span",[t._v(" Module List ")])]),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.modules,border:""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("div",{staticClass:"text item with_margin_bottom",staticStyle:{margin:"30px"}},[a("el-divider",{attrs:{"content-position":"left"}},[t._v("Add Task")]),a("el-button",{on:{click:function(a){e.row.task.push(t.deepClone(t.examples.djirc))}}},[t._v("DJI RC")]),a("el-button",{on:{click:function(a){e.row.task.push(t.deepClone(t.examples.lktech))}}},[t._v("LkTech Motor")]),a("el-button",{on:{click:function(a){e.row.task.push(t.deepClone(t.examples.hipnucimu_can))}}},[t._v("HIPNUC IMU(CAN)")]),a("el-button",{on:{click:function(a){e.row.task.push(t.deepClone(t.examples.dshot))}}},[t._v("DSHOT600")]),a("el-button",{on:{click:function(a){e.row.task.push(t.deepClone(t.examples.djican))}}},[t._v("DJI Motor")]),a("el-button",{on:{click:function(a){e.row.task.push(t.deepClone(t.examples.vanilla_pwm))}}},[t._v("OnBoard PWM")]),a("el-button",{on:{click:function(a){e.row.task.push(t.deepClone(t.examples.external_pwm))}}},[t._v("ExternalBoard PWM")]),a("el-button",{on:{click:function(a){e.row.task.push(t.deepClone(t.examples.ms5837_30ba))}}},[t._v("MS5837(30BA)")]),a("el-button",{on:{click:function(a){e.row.task.push(t.deepClone(t.examples.adc))}}},[t._v("OnBoard ADC")]),a("el-button",{on:{click:function(a){e.row.task.push(t.deepClone(t.examples.can_pmu))}}},[t._v("PMU(CAN)")]),a("el-button",{on:{click:function(a){e.row.task.push(t.deepClone(t.examples.sbus_rc))}}},[t._v("SBUS RC")]),a("el-button",{on:{click:function(a){e.row.task.push(t.deepClone(t.examples.dm_motor))}}},[t._v("DM Motor")]),a("el-divider",{attrs:{"content-position":"left"}},[t._v("Module Task Detail Configuration")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.row.task,border:""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(i){return[1===i.row.type?a("div",[a("div",{staticClass:"text item",staticStyle:{margin:"30px"}},[a("el-form",{attrs:{"label-position":"left","label-width":"50%",size:"small"}},[a("el-divider",{attrs:{"content-position":"left"}},[t._v("ROS2 Configuration")]),a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"DJI RC Publisher Topic Name"}},[a("el-input",{attrs:{placeholder:"/ecat/sn"+e.row.sn+"/app"+(i.$index+1)+"/read"},model:{value:i.row.read_topic,callback:function(e){t.$set(i.row,"read_topic",e)},expression:"props2.row.read_topic"}})],1),a("el-divider",{attrs:{"content-position":"left"}},[t._v("ROS2 Message Definition - DJI RC")]),a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"Message Type"}},[a("el-tag",[t._v("custom_msgs/ReadDJIRC")])],1),a("el-divider"),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"header"}},[a("el-tag",{attrs:{size:"small"}},[t._v("std_msgs/Header")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"online"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"left_x"}},[a("el-tag",{attrs:{size:"small"}},[t._v("float32")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"left_y"}},[a("el-tag",{attrs:{size:"small"}},[t._v("float32")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"right_x"}},[a("el-tag",{attrs:{size:"small"}},[t._v("float32")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"right_y"}},[a("el-tag",{attrs:{size:"small"}},[t._v("float32")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"dial"}},[a("el-tag",{attrs:{size:"small"}},[t._v("float32")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"left_switch"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"right_switch"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"w"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"s"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"a"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"d"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"q"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"e"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"r"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"f"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"g"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"z"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"x"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"c"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"v"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"b"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"shift"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"ctrl"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"mouse_x"}},[a("el-tag",{attrs:{size:"small"}},[t._v("int16")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"mouse_y"}},[a("el-tag",{attrs:{size:"small"}},[t._v("int16")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"mouse_left_clicked"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"mouse_right_clicked"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1)],1)],1)]):t._e(),2===i.row.type?a("div",[a("div",{staticClass:"text item",staticStyle:{margin:"30px"}},[a("el-form",{attrs:{"label-position":"left","label-width":"50%",size:"small"}},[a("el-divider",{attrs:{"content-position":"left"}},[t._v("Task Configuration")]),a("el-form-item",{attrs:{label:"Control Period"}},[a("el-input-number",{attrs:{max:16384,min:1},model:{value:i.row.control_period,callback:function(e){t.$set(i.row,"control_period",e)},expression:"props2.row.control_period"}}),t._v(" ms ")],1),a("el-divider",{attrs:{"content-position":"left"}},[t._v("CAN Configuration")]),a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"CAN"}},[a("el-radio-group",{model:{value:i.row.can_inst,callback:function(e){t.$set(i.row,"can_inst",e)},expression:"props2.row.can_inst"}},[a("el-radio",{attrs:{label:1}},[t._v("CAN1")]),a("el-radio",{attrs:{label:2}},[t._v("CAN2")])],1)],1),a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"CAN Baudrate"}},[a("el-tag",[t._v("1 Mbit/s")])],1),a("el-form-item",{attrs:{label:"CAN Packet ID"}},[a("el-input",{model:{value:i.row.can_packet_id,callback:function(e){t.$set(i.row,"can_packet_id",e)},expression:"props2.row.can_packet_id"}},[a("template",{slot:"prefix"},[t._v(" 0x ")])],2)],1),a("el-divider",{attrs:{"content-position":"left"}},[t._v("Motor Configuration")]),a("el-alert",{staticStyle:{"margin-bottom":"20px"},attrs:{closable:!1,type:"info"}},[a("template",{slot:"title"},[t._v(" More information about LkTech Motor Protocol can be cound at "),a("a",{attrs:{href:"http://www.lkmotor.cn/Download.aspx?ClassID=47"}},[t._v("http://www.lkmotor.cn/Download.aspx?ClassID=47")])])],2),a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"Control Type"}},[a("el-radio-group",{model:{value:i.row.control_type,callback:function(e){t.$set(i.row,"control_type",e)},expression:"props2.row.control_type"}},[a("el-radio",{attrs:{label:1}},[t._v("Openloop Current")]),a("el-radio",{attrs:{label:2}},[t._v("Torque")]),a("el-radio",{attrs:{label:3}},[t._v("Speed With Torque Limit")]),a("el-radio",{attrs:{label:4}},[t._v("Multi-Round Position")]),a("el-radio",{attrs:{label:5}},[t._v("Multi-Round Position With Speed Limit")]),a("el-radio",{attrs:{label:6}},[t._v("Single-Round Position")]),a("el-radio",{attrs:{label:7}},[t._v("Single-Round Position With Speed Limit")])],1)],1),a("el-divider",{attrs:{"content-position":"left"}},[t._v("ROS2 Configuration")]),a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"Motor Feedback Publisher Topic Name"}},[a("el-input",{attrs:{placeholder:"/ecat/sn"+e.row.sn+"/app"+(i.$index+1)+"/read"},model:{value:i.row.read_topic,callback:function(e){t.$set(i.row,"read_topic",e)},expression:"props2.row.read_topic"}})],1),a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"Motor Command Subscriber Topic Name"}},[a("el-input",{attrs:{placeholder:"/ecat/sn"+e.row.sn+"/app"+(i.$index+1)+"/write"},model:{value:i.row.write_topic,callback:function(e){t.$set(i.row,"write_topic",e)},expression:"props2.row.write_topic"}})],1),a("el-divider",{attrs:{"content-position":"left"}},[t._v("ROS2 Message Definition - Motor Feedback")]),a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"Message Type"}},[a("el-tag",[t._v("custom_msgs/ReadLkMotor")])],1),a("el-divider"),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"header"}},[a("el-tag",{attrs:{size:"small"}},[t._v("std_msgs/Header")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"current"}},[a("el-tag",{attrs:{size:"small"}},[t._v("int16")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"rpm"}},[a("el-tag",{attrs:{size:"small"}},[t._v("int16")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"encoder"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint16")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"temperature"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1),a("el-divider",{attrs:{"content-position":"left"}},[t._v("ROS2 Message Definition - Motor Control Command ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:1===i.row.control_type,expression:"props2.row.control_type === 0x01"}]},[a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"Message Type"}},[a("el-tag",[t._v("custom_msgs/WriteLkMotorOpenloopControl")])],1),a("el-divider"),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"enable"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"torque"}},[a("el-tag",{attrs:{size:"small"}},[t._v("int16")])],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:2===i.row.control_type,expression:"props2.row.control_type === 0x02"}]},[a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"Message Type"}},[a("el-tag",[t._v("custom_msgs/WriteLkMotorTorqueControl")])],1),a("el-divider"),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"enable"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"torque"}},[a("el-tag",{attrs:{size:"small"}},[t._v("int16")])],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:3===i.row.control_type,expression:"props2.row.control_type === 0x03"}]},[a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"Message Type"}},[a("el-tag",[t._v("custom_msgs/WriteLkMotorSpeedControlWithTorqueLimit")])],1),a("el-divider"),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"enable"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"torque_limit"}},[a("el-tag",{attrs:{size:"small"}},[t._v("int16")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"speed"}},[a("el-tag",{attrs:{size:"small"}},[t._v("int32")])],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:4===i.row.control_type,expression:"props2.row.control_type === 0x04"}]},[a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"Message Type"}},[a("el-tag",[t._v("custom_msgs/WriteLkMotorMultiRoundPositionControl")])],1),a("el-divider"),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"enable"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"angle"}},[a("el-tag",{attrs:{size:"small"}},[t._v("int32")])],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:5===i.row.control_type,expression:"props2.row.control_type === 0x05"}]},[a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"Message Type"}},[a("el-tag",[t._v("custom_msgs/WriteLkMotorMultiRoundPositionControlWithSpeedLimit")])],1),a("el-divider"),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"enable"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"speed_limit"}},[a("el-tag",{attrs:{size:"small"}},[t._v("int16")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"angle"}},[a("el-tag",{attrs:{size:"small"}},[t._v("int32")])],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:6===i.row.control_type,expression:"props2.row.control_type === 0x06"}]},[a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"Message Type"}},[a("el-tag",[t._v("custom_msgs/WriteLkMotorSingleRoundPositionControl")])],1),a("el-divider"),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"enable"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"direction"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"angle"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint32")])],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:7===i.row.control_type,expression:"props2.row.control_type === 0x07"}]},[a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"Message Type"}},[a("el-tag",[t._v("custom_msgs/WriteLkMotorSingleRoundPositionControlWithSpeedLimit")])],1),a("el-divider"),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"enable"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"direction"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"speed_limit"}},[a("el-tag",{attrs:{size:"small"}},[t._v("int16")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"angle"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint32")])],1)],1)],1)],1)]):t._e(),3===i.row.type?a("div",[a("div",{staticClass:"text item",staticStyle:{margin:"30px"}},[a("el-form",{attrs:{"label-position":"left","label-width":"50%",size:"small"}},[a("el-divider",{attrs:{"content-position":"left"}},[t._v("ROS2 Configuration")]),a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"HIPNUC IMU Publisher Topic Name"}},[a("el-input",{attrs:{placeholder:"/ecat/sn"+e.row.sn+"/app"+(i.$index+1)+"/read"},model:{value:i.row.read_topic,callback:function(e){t.$set(i.row,"read_topic",e)},expression:"props2.row.read_topic"}})],1),a("el-divider",{attrs:{"content-position":"left"}},[t._v("ROS2 Message Definition - HIPNUC IMU")]),a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"Message Type"}},[a("el-tag",[t._v("sensor_msgs/Imu")])],1),a("el-divider")],1)],1)]):t._e(),4===i.row.type?a("div",[a("div",{staticClass:"text item",staticStyle:{margin:"30px"}},[a("el-form",{attrs:{"label-position":"left","label-width":"50%",size:"small"}},[a("el-divider",{attrs:{"content-position":"left"}},[t._v("TIM Configuration")]),a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"TIM"}},[a("el-radio-group",{model:{value:i.row.dshot_id,callback:function(e){t.$set(i.row,"dshot_id",e)},expression:"props2.row.dshot_id"}},[a("el-radio",{attrs:{label:1}},[t._v("DSHOT1")]),a("el-radio",{attrs:{label:2}},[t._v("DSHOT2")])],1)],1),a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"Initial Value"}},[a("el-input",{on:{input:function(t){return i.row.init_value=t.replace(/^\D*(\d*(?:\.\d{0,})?).*$/g,"$1")}},model:{value:i.row.init_value,callback:function(e){t.$set(i.row,"init_value",e)},expression:"props2.row.init_value"}})],1),a("el-divider",{attrs:{"content-position":"left"}},[t._v("ROS2 Configuration")]),a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"Motor Command Subscriber Topic Name"}},[a("el-input",{attrs:{placeholder:"/ecat/sn"+e.row.sn+"/app"+(i.$index+1)+"/write"},model:{value:i.row.write_topic,callback:function(e){t.$set(i.row,"write_topic",e)},expression:"props2.row.write_topic"}})],1),a("el-divider",{attrs:{"content-position":"left"}},[t._v("ROS2 Message Definition - Motor Control Command ")]),a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"Message Type"}},[a("el-tag",[t._v("custom_msgs/WriteDSHOT")])],1),a("el-divider"),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"channel1"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint16")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"channel2"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint16")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"channel3"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint16")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"channel4"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint16")])],1)],1)],1)]):t._e(),5===i.row.type?a("div",[a("div",{staticClass:"text item",staticStyle:{margin:"30px"}},[a("el-form",{attrs:{"label-position":"left","label-width":"50%",size:"small"}},[a("el-divider",{attrs:{"content-position":"left"}},[t._v("Task Configuration")]),a("el-form-item",{attrs:{label:"Control Period"}},[a("el-input-number",{attrs:{max:16384,min:1},model:{value:i.row.control_period,callback:function(e){t.$set(i.row,"control_period",e)},expression:"props2.row.control_period"}}),t._v(" ms ")],1),a("el-divider",{attrs:{"content-position":"left"}},[t._v("CAN Configuration")]),a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"CAN"}},[a("el-radio-group",{model:{value:i.row.can_inst,callback:function(e){t.$set(i.row,"can_inst",e)},expression:"props2.row.can_inst"}},[a("el-radio",{attrs:{label:1}},[t._v("CAN1")]),a("el-radio",{attrs:{label:2}},[t._v("CAN2")])],1)],1),a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"CAN Baudrate"}},[a("el-tag",[t._v("1 Mbit/s")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"Motor Control Packet ID"}},[a("el-radio-group",{model:{value:i.row.can_packet_id,callback:function(e){t.$set(i.row,"can_packet_id",e)},expression:"props2.row.can_packet_id"}},[a("el-radio",{staticStyle:{"padding-bottom":"5px"},attrs:{label:512}},[t._v("0x200 "),a("el-tag",{staticStyle:{"margin-left":"10px"},attrs:{size:"small"}},[t._v("3508 ID1-4")]),a("el-tag",{attrs:{size:"small"}},[t._v("2006 ID1-4")])],1),a("br"),a("el-radio",{staticStyle:{"padding-bottom":"5px"},attrs:{label:511}},[t._v("0x1ff "),a("el-tag",{staticStyle:{"margin-left":"18px"},attrs:{size:"small"}},[t._v("3508 ID5-8")]),a("el-tag",{attrs:{size:"small"}},[t._v("2006 ID5-8")]),a("el-tag",{attrs:{size:"small",type:"success"}},[t._v("6020 VOLT_CTRL ID1-4")])],1),a("br"),a("el-radio",{staticStyle:{"padding-bottom":"5px"},attrs:{label:767}},[t._v("0x2ff "),a("el-tag",{staticStyle:{"margin-left":"18px"},attrs:{size:"small",type:"success"}},[t._v("6020 VOLT_CTRL ID5-7 ")])],1),a("br"),a("el-radio",{staticStyle:{"padding-bottom":"5px"},attrs:{label:510}},[t._v("0x1fe "),a("el-tag",{staticStyle:{"margin-left":"13.5px"},attrs:{size:"small",type:"warning"}},[t._v("6020 CURR_CTRL ID1-4 ")])],1),a("br"),a("el-radio",{staticStyle:{"padding-bottom":"5px"},attrs:{label:766}},[t._v("0x2fe "),a("el-tag",{staticStyle:{"margin-left":"13.5px"},attrs:{size:"small",type:"warning"}},[t._v("6020 CURR_CTRL ID5-7 ")])],1)],1)],1),t._l([1,2,3,4],(function(e){return a("div",{key:e},[a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"Motor"+e+" Enable"}},[a("el-switch",{model:{value:i.row.motor_enable[e-1],callback:function(a){t.$set(i.row.motor_enable,e-1,a)},expression:"props2.row.motor_enable[i-1]"}})],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:i.row.motor_enable[e-1],expression:"props2.row.motor_enable[i-1]"}],staticStyle:{margin:"0"},attrs:{label:"Motor"+e+" ID"}},[a("el-radio-group",{model:{value:i.row.motor_id[e-1],callback:function(a){t.$set(i.row.motor_id,e-1,a)},expression:"props2.row.motor_id[i-1]"}},[a("el-radio",{attrs:{label:1}},[t._v("1")]),a("el-radio",{attrs:{label:2}},[t._v("2")]),a("el-radio",{attrs:{label:3}},[t._v("3")]),a("el-radio",{attrs:{label:4}},[t._v("4")]),a("el-radio",{attrs:{label:5}},[t._v("5")]),a("el-radio",{attrs:{label:6}},[t._v("6")]),a("el-radio",{attrs:{label:7}},[t._v("7")]),a("el-radio",{attrs:{label:8}},[t._v("8")])],1)],1)],1)})),a("el-divider",{attrs:{"content-position":"left"}},[t._v("Motor Configuration")]),a("el-alert",{staticStyle:{"margin-bottom":"20px"},attrs:{closable:!1,type:"info"}},[a("template",{slot:"title"},[t._v(" More information about DJI Motor Protocol can be cound at "),a("a",{attrs:{href:"https://www.robomaster.com/zh-CN/products/components/general"}},[t._v("https://www.robomaster.com/zh-CN/products/components/general")])])],2),t._l([1,2,3,4],(function(e){return a("div",{key:5*e},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:i.row.motor_enable[e-1],expression:"props2.row.motor_enable[i-1]"}],staticStyle:{margin:"0"},attrs:{label:"Motor"+e+" Control Type"}},[a("el-radio-group",{model:{value:i.row.motor_control_type[e-1],callback:function(a){t.$set(i.row.motor_control_type,e-1,a)},expression:"props2.row.motor_control_type[i-1]"}},[a("el-radio",{attrs:{label:1}},[t._v("Openloop Current")]),a("el-radio",{attrs:{label:2}},[t._v("Speed")]),a("el-radio",{attrs:{label:3}},[t._v("Single-Round Position")])],1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:i.row.motor_enable[e-1]&&i.row.motor_control_type[e-1]>1,expression:"props2.row.motor_enable[i-1] && props2.row.motor_control_type[i-1] > 1"}],staticStyle:{margin:"0"},attrs:{label:"Motor"+e+" Speed PID Parameters"}},[a("el-form",{staticClass:"no_margin_bottom",attrs:{"label-position":"left","label-width":"50%",size:"small"}},[a("el-form-item",{attrs:{label:"Speed PID Kp"}},[a("el-input",{on:{input:function(t){return i.row.motor_speed_pid_param[e-1].kp=t.replace(/^\D*(\d*(?:\.\d{0,})?).*$/g,"$1")}},model:{value:i.row.motor_speed_pid_param[e-1].kp,callback:function(a){t.$set(i.row.motor_speed_pid_param[e-1],"kp",a)},expression:"props2.row.motor_speed_pid_param[i-1].kp"}})],1),a("el-form-item",{attrs:{label:"Speed PID Ki"}},[a("el-input",{on:{input:function(t){return i.row.motor_speed_pid_param[e-1].ki=t.replace(/^\D*(\d*(?:\.\d{0,})?).*$/g,"$1")}},model:{value:i.row.motor_speed_pid_param[e-1].ki,callback:function(a){t.$set(i.row.motor_speed_pid_param[e-1],"ki",a)},expression:"props2.row.motor_speed_pid_param[i-1].ki"}})],1),a("el-form-item",{attrs:{label:"Speed PID Kd"}},[a("el-input",{on:{input:function(t){return i.row.motor_speed_pid_param[e-1].kd=t.replace(/^\D*(\d*(?:\.\d{0,})?).*$/g,"$1")}},model:{value:i.row.motor_speed_pid_param[e-1].kd,callback:function(a){t.$set(i.row.motor_speed_pid_param[e-1],"kd",a)},expression:"props2.row.motor_speed_pid_param[i-1].kd"}})],1),a("el-form-item",{attrs:{label:"Speed PID Max Out"}},[a("el-input",{on:{input:function(t){return i.row.motor_speed_pid_param[e-1].maxout=t.replace(/^\D*(\d*(?:\.\d{0,})?).*$/g,"$1")}},model:{value:i.row.motor_speed_pid_param[e-1].maxout,callback:function(a){t.$set(i.row.motor_speed_pid_param[e-1],"maxout",a)},expression:"props2.row.motor_speed_pid_param[i-1].maxout"}})],1),a("el-form-item",{attrs:{label:"Speed PID Max IOut"}},[a("el-input",{on:{input:function(t){return i.row.motor_speed_pid_param[e-1].maxiout=t.replace(/^\D*(\d*(?:\.\d{0,})?).*$/g,"$1")}},model:{value:i.row.motor_speed_pid_param[e-1].maxiout,callback:function(a){t.$set(i.row.motor_speed_pid_param[e-1],"maxiout",a)},expression:"props2.row.motor_speed_pid_param[i-1].maxiout"}})],1)],1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:i.row.motor_enable[e-1]&&i.row.motor_control_type[e-1]>2,expression:"props2.row.motor_enable[i-1] && props2.row.motor_control_type[i-1] > 2"}],staticStyle:{margin:"0"},attrs:{label:"Motor"+e+" Angle PID Parameters"}},[a("el-form",{staticClass:"no_margin_bottom",attrs:{"label-position":"left","label-width":"50%",size:"small"}},[a("el-form-item",{attrs:{label:"Angle PID Kp"}},[a("el-input",{on:{input:function(t){return i.row.motor_angle_pid_param[e-1].kp=t.replace(/^\D*(\d*(?:\.\d{0,})?).*$/g,"$1")}},model:{value:i.row.motor_angle_pid_param[e-1].kp,callback:function(a){t.$set(i.row.motor_angle_pid_param[e-1],"kp",a)},expression:"props2.row.motor_angle_pid_param[i-1].kp"}})],1),a("el-form-item",{attrs:{label:"Angle PID Ki"}},[a("el-input",{on:{input:function(t){return i.row.motor_angle_pid_param[e-1].ki=t.replace(/^\D*(\d*(?:\.\d{0,})?).*$/g,"$1")}},model:{value:i.row.motor_angle_pid_param[e-1].ki,callback:function(a){t.$set(i.row.motor_angle_pid_param[e-1],"ki",a)},expression:"props2.row.motor_angle_pid_param[i-1].ki"}})],1),a("el-form-item",{attrs:{label:"Angle PID Kd"}},[a("el-input",{on:{input:function(t){return i.row.motor_angle_pid_param[e-1].kd=t.replace(/^\D*(\d*(?:\.\d{0,})?).*$/g,"$1")}},model:{value:i.row.motor_angle_pid_param[e-1].kd,callback:function(a){t.$set(i.row.motor_angle_pid_param[e-1],"kd",a)},expression:"props2.row.motor_angle_pid_param[i-1].kd"}})],1),a("el-form-item",{attrs:{label:"Angle PID Max Out"}},[a("el-input",{on:{input:function(t){return i.row.motor_angle_pid_param[e-1].maxout=t.replace(/^\D*(\d*(?:\.\d{0,})?).*$/g,"$1")}},model:{value:i.row.motor_angle_pid_param[e-1].maxout,callback:function(a){t.$set(i.row.motor_angle_pid_param[e-1],"maxout",a)},expression:"props2.row.motor_angle_pid_param[i-1].maxout"}})],1),a("el-form-item",{attrs:{label:"Angle PID Max IOut"}},[a("el-input",{on:{input:function(t){return i.row.motor_angle_pid_param[e-1].maxiout=t.replace(/^\D*(\d*(?:\.\d{0,})?).*$/g,"$1")}},model:{value:i.row.motor_angle_pid_param[e-1].maxiout,callback:function(a){t.$set(i.row.motor_angle_pid_param[e-1],"maxiout",a)},expression:"props2.row.motor_angle_pid_param[i-1].maxiout"}})],1)],1)],1)],1)})),a("el-divider",{attrs:{"content-position":"left"}},[t._v("ROS2 Configuration")]),a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"Motor Feedback Publisher Topic Name"}},[a("el-input",{attrs:{placeholder:"/ecat/sn"+e.row.sn+"/app"+(i.$index+1)+"/read"},model:{value:i.row.read_topic,callback:function(e){t.$set(i.row,"read_topic",e)},expression:"props2.row.read_topic"}})],1),a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"Motor Command Subscriber Topic Name"}},[a("el-input",{attrs:{placeholder:"/ecat/sn"+e.row.sn+"/app"+(i.$index+1)+"/write"},model:{value:i.row.write_topic,callback:function(e){t.$set(i.row,"write_topic",e)},expression:"props2.row.write_topic"}})],1),a("el-divider",{attrs:{"content-position":"left"}},[t._v("ROS2 Message Definition - Motor Feedback")]),a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"Message Type"}},[a("el-tag",[t._v("custom_msgs/ReadDJICAN")])],1),a("el-divider"),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"header"}},[a("el-tag",{attrs:{size:"small"}},[t._v("std_msgs/Header")])],1),t._l([1,2,3,4],(function(e){return a("div",{key:6*e},[a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"motor"+e+"_ecd"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint16")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"motor"+e+"_rpm"}},[a("el-tag",{attrs:{size:"small"}},[t._v("int16")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"motor"+e+"_current"}},[a("el-tag",{attrs:{size:"small"}},[t._v("int16")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"motor"+e+"_temperature"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1)],1)})),a("el-divider",{attrs:{"content-position":"left"}},[t._v("ROS2 Message Definition - Motor Control Command ")]),a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"Message Type"}},[a("el-tag",[t._v("custom_msgs/WriteDJICAN")])],1),a("el-divider"),t._l([1,2,3,4],(function(e){return a("div",{key:7*e},[a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"motor"+e+"_enable"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"motor"+e+"_cmd"}},[a("el-tag",{attrs:{size:"small"}},[t._v("int16")])],1)],1)}))],2)],1)]):t._e(),6===i.row.type?a("div",[a("div",{staticClass:"text item",staticStyle:{margin:"30px"}},[a("el-form",{attrs:{"label-position":"left","label-width":"50%",size:"small"}},[a("el-divider",{attrs:{"content-position":"left"}},[t._v("TIM Configuration")]),a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"TIM"}},[a("el-radio-group",{model:{value:i.row.tim_id,callback:function(e){t.$set(i.row,"tim_id",e)},expression:"props2.row.tim_id"}},[a("el-radio",{attrs:{label:2}},[t._v("TIM2")]),a("el-radio",{attrs:{label:5}},[t._v("TIM5")])],1)],1),a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"Period"}},[a("el-input",{on:{input:function(t){return i.row.expected_period=t.replace(/^\D*(\d*(?:\.\d{0,})?).*$/g,"$1")}},model:{value:i.row.expected_period,callback:function(e){t.$set(i.row,"expected_period",e)},expression:"props2.row.expected_period"}},[a("template",{slot:"append"},[t._v(" us ")])],2)],1),a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"Initial Value"}},[a("el-input",{on:{input:function(t){return i.row.init_value=t.replace(/^\D*(\d*(?:\.\d{0,})?).*$/g,"$1")}},model:{value:i.row.init_value,callback:function(e){t.$set(i.row,"init_value",e)},expression:"props2.row.init_value"}},[a("template",{slot:"append"},[t._v(" us ")])],2)],1),a("el-divider",{attrs:{"content-position":"left"}},[t._v("ROS2 Configuration")]),a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"Motor Command Subscriber Topic Name"}},[a("el-input",{attrs:{placeholder:"/ecat/sn"+e.row.sn+"/app"+(i.$index+1)+"/write"},model:{value:i.row.write_topic,callback:function(e){t.$set(i.row,"write_topic",e)},expression:"props2.row.write_topic"}})],1),a("el-divider",{attrs:{"content-position":"left"}},[t._v("ROS2 Message Definition - Motor Control Command ")]),a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"Message Type"}},[a("el-tag",[t._v("custom_msgs/WriteVanillaPWM")])],1),a("el-divider"),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"channel1"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint16")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"channel2"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint16")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"channel3"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint16")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"channel4"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint16")])],1)],1)],1)]):t._e(),7===i.row.type?a("div",[a("div",{staticClass:"text item",staticStyle:{margin:"30px"}},[a("el-form",{attrs:{"label-position":"left","label-width":"50%",size:"small"}},[a("el-divider",{attrs:{"content-position":"left"}},[t._v("Task Configuration")]),a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"UART"}},[a("el-radio-group",{model:{value:i.row.uart_id,callback:function(e){t.$set(i.row,"uart_id",e)},expression:"props2.row.uart_id"}},[a("el-radio",{attrs:{label:1}},[t._v("UART1")]),a("el-radio",{attrs:{label:4}},[t._v("UART4")])],1)],1),a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"Enabled Channel Count"}},[a("el-input-number",{attrs:{min:1,max:16},model:{value:i.row.enabled_channel_count,callback:function(e){t.$set(i.row,"enabled_channel_count",e)},expression:"props2.row.enabled_channel_count"}})],1),a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"Period"}},[a("el-input",{on:{input:function(t){return i.row.expected_period=t.replace(/^\D*(\d*(?:\.\d{0,})?).*$/g,"$1")}},model:{value:i.row.expected_period,callback:function(e){t.$set(i.row,"expected_period",e)},expression:"props2.row.expected_period"}},[a("template",{slot:"append"},[t._v(" us ")])],2)],1),a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"Initial Value"}},[a("el-input",{on:{input:function(t){return i.row.init_value=t.replace(/^\D*(\d*(?:\.\d{0,})?).*$/g,"$1")}},model:{value:i.row.init_value,callback:function(e){t.$set(i.row,"init_value",e)},expression:"props2.row.init_value"}},[a("template",{slot:"append"},[t._v(" us ")])],2)],1),a("el-divider",{attrs:{"content-position":"left"}},[t._v("ROS2 Configuration")]),a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"Motor Command Subscriber Topic Name"}},[a("el-input",{attrs:{placeholder:"/ecat/sn"+e.row.sn+"/app"+(i.$index+1)+"/write"},model:{value:i.row.write_topic,callback:function(e){t.$set(i.row,"write_topic",e)},expression:"props2.row.write_topic"}})],1),a("el-divider",{attrs:{"content-position":"left"}},[t._v("ROS2 Message Definition - Motor Control Command ")]),a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"Message Type"}},[a("el-tag",[t._v("custom_msgs/WriteExternalPWM")])],1),a("el-divider"),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"channels"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint16[]")])],1)],1)],1)]):t._e(),8===i.row.type?a("div",[a("div",{staticClass:"text item",staticStyle:{margin:"30px"}},[a("el-form",{attrs:{"label-position":"left","label-width":"50%",size:"small"}},[a("el-divider",{attrs:{"content-position":"left"}},[t._v("Task Configuration")]),a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"I2C"}},[a("el-radio-group",{model:{value:i.row.i2c_id,callback:function(e){t.$set(i.row,"i2c_id",e)},expression:"props2.row.i2c_id"}},[a("el-radio",{attrs:{label:3}},[t._v("I2C3")])],1)],1),a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"OSR ID"}},[a("el-input-number",{attrs:{min:1,max:6},model:{value:i.row.osr_id,callback:function(e){t.$set(i.row,"osr_id",e)},expression:"props2.row.osr_id"}})],1),a("el-divider",{attrs:{"content-position":"left"}},[t._v("ROS2 Configuration")]),a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"MS5837(30BA) Publisher Topic Name"}},[a("el-input",{attrs:{placeholder:"/ecat/sn"+e.row.sn+"/app"+(i.$index+1)+"/read"},model:{value:i.row.read_topic,callback:function(e){t.$set(i.row,"read_topic",e)},expression:"props2.row.read_topic"}})],1),a("el-divider",{attrs:{"content-position":"left"}},[t._v("ROS2 Message Definition - MS5837(30BA)")]),a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"Message Type"}},[a("el-tag",[t._v("custom_msgs/ReadMS5837BA30")])],1),a("el-divider"),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"header"}},[a("el-tag",{attrs:{size:"small"}},[t._v("std_msgs/Header")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"temperature"}},[a("el-tag",{attrs:{size:"small"}},[t._v("float64")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"pressure"}},[a("el-tag",{attrs:{size:"small"}},[t._v("float64")])],1)],1)],1)]):t._e(),9===i.row.type?a("div",[a("div",{staticClass:"text item",staticStyle:{margin:"30px"}},[a("el-form",{attrs:{"label-position":"left","label-width":"50%",size:"small"}},[a("el-divider",{attrs:{"content-position":"left"}},[t._v("ADC Configuration")]),a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"Coefficient for channel 1"}},[a("el-input",{on:{input:function(t){return i.row.coefficient0=t.replace(/^\D*(\d*(?:\.\d{0,})?).*$/g,"$1")}},model:{value:i.row.coefficient0,callback:function(e){t.$set(i.row,"coefficient0",e)},expression:"props2.row.coefficient0"}})],1),a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"Coefficient for channel 2"}},[a("el-input",{on:{input:function(t){return i.row.coefficient1=t.replace(/^\D*(\d*(?:\.\d{0,})?).*$/g,"$1")}},model:{value:i.row.coefficient1,callback:function(e){t.$set(i.row,"coefficient1",e)},expression:"props2.row.coefficient1"}})],1),a("el-divider",{attrs:{"content-position":"left"}},[t._v("ROS2 Configuration")]),a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"Onboard ADC Publisher Topic Name"}},[a("el-input",{attrs:{placeholder:"/ecat/sn"+e.row.sn+"/app"+(i.$index+1)+"/read"},model:{value:i.row.read_topic,callback:function(e){t.$set(i.row,"read_topic",e)},expression:"props2.row.read_topic"}})],1),a("el-divider",{attrs:{"content-position":"left"}},[t._v("ROS2 Message Definition - Onboard ADC ")]),a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"Message Type"}},[a("el-tag",[t._v("custom_msgs/ReadADC")])],1),a("el-divider"),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"header"}},[a("el-tag",{attrs:{size:"small"}},[t._v("std_msgs/Header")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"channel1"}},[a("el-tag",{attrs:{size:"small"}},[t._v("float32")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"channel2"}},[a("el-tag",{attrs:{size:"small"}},[t._v("float32")])],1)],1)],1)]):t._e(),10===i.row.type?a("div",[a("div",{staticClass:"text item",staticStyle:{margin:"30px"}},[a("el-form",{attrs:{"label-position":"left","label-width":"50%",size:"small"}},[a("el-divider",{attrs:{"content-position":"left"}},[t._v("ROS2 Configuration")]),a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"PMU(CAN) Publisher Topic Name"}},[a("el-input",{attrs:{placeholder:"/ecat/sn"+e.row.sn+"/app"+(i.$index+1)+"/read"},model:{value:i.row.read_topic,callback:function(e){t.$set(i.row,"read_topic",e)},expression:"props2.row.read_topic"}})],1),a("el-divider",{attrs:{"content-position":"left"}},[t._v("ROS2 Message Definition - PMU")]),a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"Message Type"}},[a("el-tag",[t._v("custom_msgs/ReadCANPMU")])],1),a("el-divider"),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"header"}},[a("el-tag",{attrs:{size:"small"}},[t._v("std_msgs/Header")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"temperature"}},[a("el-tag",{attrs:{size:"small"}},[t._v("float32")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"voltage"}},[a("el-tag",{attrs:{size:"small"}},[t._v("float32")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"current"}},[a("el-tag",{attrs:{size:"small"}},[t._v("float32")])],1)],1)],1)]):t._e(),11===i.row.type?a("div",[a("div",{staticClass:"text item",staticStyle:{margin:"30px"}},[a("el-form",{attrs:{"label-position":"left","label-width":"50%",size:"small"}},[a("el-divider",{attrs:{"content-position":"left"}},[t._v("ROS2 Configuration")]),a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"SBUS RC Publisher Topic Name"}},[a("el-input",{attrs:{placeholder:"/ecat/sn"+e.row.sn+"/app"+(i.$index+1)+"/read"},model:{value:i.row.read_topic,callback:function(e){t.$set(i.row,"read_topic",e)},expression:"props2.row.read_topic"}})],1),a("el-divider",{attrs:{"content-position":"left"}},[t._v("ROS2 Message Definition - SBUS RC")]),a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"Message Type"}},[a("el-tag",[t._v("custom_msgs/ReadSBUSRC")])],1),a("el-divider"),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"header"}},[a("el-tag",{attrs:{size:"small"}},[t._v("std_msgs/Header")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"online"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"channels"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint16[16]")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"ch17"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"ch18"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"fail_safe"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"frame_lost"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1)],1)],1)]):t._e(),12===i.row.type?a("div",[a("div",{staticClass:"text item",staticStyle:{margin:"30px"}},[a("el-form",{attrs:{"label-position":"left","label-width":"50%",size:"small"}},[a("el-divider",{attrs:{"content-position":"left"}},[t._v("Task Configuration")]),a("el-form-item",{attrs:{label:"Control Period"}},[a("el-input-number",{attrs:{max:16384,min:1},model:{value:i.row.control_period,callback:function(e){t.$set(i.row,"control_period",e)},expression:"props2.row.control_period"}}),t._v(" ms ")],1),a("el-divider",{attrs:{"content-position":"left"}},[t._v("CAN Configuration")]),a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"CAN"}},[a("el-radio-group",{model:{value:i.row.can_inst,callback:function(e){t.$set(i.row,"can_inst",e)},expression:"props2.row.can_inst"}},[a("el-radio",{attrs:{label:1}},[t._v("CAN1")]),a("el-radio",{attrs:{label:2}},[t._v("CAN2")])],1)],1),a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"CAN Baudrate"}},[a("el-tag",[t._v("1 Mbit/s")])],1),a("el-form-item",{attrs:{label:"CAN ID"}},[a("el-input",{model:{value:i.row.can_id,callback:function(e){t.$set(i.row,"can_id",e)},expression:"props2.row.can_id"}},[a("template",{slot:"prefix"},[t._v(" 0x ")])],2)],1),a("el-form-item",{attrs:{label:"Master ID"}},[a("el-input",{model:{value:i.row.master_id,callback:function(e){t.$set(i.row,"master_id",e)},expression:"props2.row.master_id"}},[a("template",{slot:"prefix"},[t._v(" 0x ")])],2)],1),a("el-divider",{attrs:{"content-position":"left"}},[t._v("Motor Configuration")]),a("el-alert",{staticStyle:{"margin-bottom":"20px"},attrs:{closable:!1,type:"info"}},[a("template",{slot:"title"},[t._v(" More information about DM Motor Protocol can be cound at "),a("a",{attrs:{href:"https://gl1po2nscb.feishu.cn/wiki/MZ32w0qnnizTpOkNvAZcJ9SlnXb"}},[t._v("https://gl1po2nscb.feishu.cn/wiki/MZ32w0qnnizTpOkNvAZcJ9SlnXb")])])],2),a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"Control Type"}},[a("el-radio-group",{model:{value:i.row.control_type,callback:function(e){t.$set(i.row,"control_type",e)},expression:"props2.row.control_type"}},[a("el-radio",{attrs:{label:1}},[t._v("MIT")]),a("el-radio",{attrs:{label:2}},[t._v("Position With Speed Limit")]),a("el-radio",{attrs:{label:3}},[t._v("Speed")])],1)],1),a("el-form-item",{attrs:{label:"P Max"}},[a("el-input",{model:{value:i.row.pmax,callback:function(e){t.$set(i.row,"pmax",e)},expression:"props2.row.pmax"}})],1),a("el-form-item",{attrs:{label:"V Max"}},[a("el-input",{model:{value:i.row.vmax,callback:function(e){t.$set(i.row,"vmax",e)},expression:"props2.row.vmax"}})],1),a("el-form-item",{attrs:{label:"T Max"}},[a("el-input",{model:{value:i.row.tmax,callback:function(e){t.$set(i.row,"tmax",e)},expression:"props2.row.tmax"}})],1),a("el-divider",{attrs:{"content-position":"left"}},[t._v("ROS2 Configuration")]),a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"Motor Feedback Publisher Topic Name"}},[a("el-input",{attrs:{placeholder:"/ecat/sn"+e.row.sn+"/app"+(i.$index+1)+"/read"},model:{value:i.row.read_topic,callback:function(e){t.$set(i.row,"read_topic",e)},expression:"props2.row.read_topic"}})],1),a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"Motor Command Subscriber Topic Name"}},[a("el-input",{attrs:{placeholder:"/ecat/sn"+e.row.sn+"/app"+(i.$index+1)+"/write"},model:{value:i.row.write_topic,callback:function(e){t.$set(i.row,"write_topic",e)},expression:"props2.row.write_topic"}})],1),a("el-divider",{attrs:{"content-position":"left"}},[t._v("ROS2 Message Definition - Motor Feedback")]),a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"Message Type"}},[a("el-tag",[t._v("custom_msgs/ReadDmMotor")])],1),a("el-divider"),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"header"}},[a("el-tag",{attrs:{size:"small"}},[t._v("std_msgs/Header")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"disabled"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"enabled"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"overvoltage"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"overcurrent"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"mos_overtemperature"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"rotor_overtemperature"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"communication_lost"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"overload"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"ecd"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint16")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"velocity"}},[a("el-tag",{attrs:{size:"small"}},[t._v("float32")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"torque"}},[a("el-tag",{attrs:{size:"small"}},[t._v("float32")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"mos_temperature"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"rotor_temperature"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1),a("el-divider",{attrs:{"content-position":"left"}},[t._v("ROS2 Message Definition - Motor Control Command ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:1===i.row.control_type,expression:"props2.row.control_type === 0x01"}]},[a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"Message Type"}},[a("el-tag",[t._v("custom_msgs/WriteDmMotorMITControl")])],1),a("el-divider"),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"enable"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"p_des"}},[a("el-tag",{attrs:{size:"small"}},[t._v("float32")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"v_des"}},[a("el-tag",{attrs:{size:"small"}},[t._v("float32")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"kp"}},[a("el-tag",{attrs:{size:"small"}},[t._v("float32")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"kd"}},[a("el-tag",{attrs:{size:"small"}},[t._v("float32")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"torque"}},[a("el-tag",{attrs:{size:"small"}},[t._v("float32")])],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:2===i.row.control_type,expression:"props2.row.control_type === 0x02"}]},[a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"Message Type"}},[a("el-tag",[t._v("custom_msgs/WriteDmMotorPositionControlWithSpeedLimit")])],1),a("el-divider"),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"enable"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"position"}},[a("el-tag",{attrs:{size:"small"}},[t._v("float32")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"speed"}},[a("el-tag",{attrs:{size:"small"}},[t._v("float32")])],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:3===i.row.control_type,expression:"props2.row.control_type === 0x03"}]},[a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"Message Type"}},[a("el-tag",[t._v("custom_msgs/WriteDmMotorSpeedControl")])],1),a("el-divider"),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"enable"}},[a("el-tag",{attrs:{size:"small"}},[t._v("uint8")])],1),a("el-form-item",{staticClass:"havetag",staticStyle:{margin:"0"},attrs:{label:"speed"}},[a("el-tag",{attrs:{size:"small"}},[t._v("float32")])],1)],1)],1)],1)]):t._e()]}}],null,!0)}),a("el-table-column",{attrs:{label:"Module Type"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.getAppTypeFriendlyName(e.row.type))+" ")]}}],null,!0)}),a("el-table-column",{attrs:{label:"Operations"},scopedSlots:t._u([{key:"default",fn:function(i){return[a("el-button",{on:{click:function(t){return e.row.task.splice(i.$index,1)}}},[t._v("Remove")])]}}],null,!0)})],1)],1)])]}}])}),a("el-table-column",{attrs:{label:"Module Type"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.getTypeFriendlyName(e.row.type))+" ")]}}])}),a("el-table-column",{attrs:{label:"Module SN"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{on:{input:function(t){e.row.latency_topic="/ecat/sn"+t+"/latency"}},model:{value:e.row.sn,callback:function(a){t.$set(e.row,"sn",a)},expression:"props.row.sn"}})]}}])}),a("el-table-column",{attrs:{label:"Module Latency Topic"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{model:{value:e.row.latency_topic,callback:function(a){t.$set(e.row,"latency_topic",a)},expression:"props.row.latency_topic"}})]}}])}),a("el-table-column",{attrs:{label:"Operations"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{on:{click:function(a){return t.removeModule(e.$index)}}},[t._v("Remove")])]}}])})],1)],1)],1)},c=[],m=a("53ca"),p=(a("e9c4"),a("a434"),a("d9e2"),a("d3b7"),a("159b"),a("b64b"),{name:"NewTaskAssignment",components:{},data:function(){return{examples:{djirc:{type:1,read_topic:""},sbus_rc:{type:11,read_topic:""},lktech:{type:2,can_inst:1,can_packet_id:321,control_period:1,control_type:1,read_topic:"",write_topic:""},hipnucimu_can:{type:3,read_topic:""},dshot:{type:4,dshot_id:1,write_topic:"",read_topic:"",init_value:0},djican:{type:5,can_inst:1,can_packet_id:512,control_period:1,motor_enable:[!0,!0,!0,!0],motor_id:[1,2,3,4],motor_control_type:[1,1,1,1],motor_speed_pid_param:[{kp:1,ki:0,kd:0,maxout:1e4,maxiout:1e3},{kp:1,ki:0,kd:0,maxout:1e4,maxiout:1e3},{kp:1,ki:0,kd:0,maxout:1e4,maxiout:1e3},{kp:1,ki:0,kd:0,maxout:1e4,maxiout:1e3}],motor_angle_pid_param:[{kp:1,ki:0,kd:0,maxout:1e4,maxiout:1e3},{kp:1,ki:0,kd:0,maxout:1e4,maxiout:1e3},{kp:1,ki:0,kd:0,maxout:1e4,maxiout:1e3},{kp:1,ki:0,kd:0,maxout:1e4,maxiout:1e3}],read_topic:"",write_topic:""},vanilla_pwm:{type:6,tim_id:2,expected_period:0,init_value:0,write_topic:"",read_topic:""},external_pwm:{type:7,uart_id:1,expected_period:0,enabled_channel_count:1,init_value:0,write_topic:"",read_topic:""},ms5837_30ba:{type:8,i2c_id:3,osr_id:1,read_topic:""},adc:{type:9,coefficient0:0,coefficient1:0,read_topic:""},can_pmu:{type:10,read_topic:""},dm_motor:{type:12,can_inst:1,can_id:"01",master_id:"11",control_period:1,control_type:1,pmax:12.5,vmax:30,tmax:10}},modules:[]}},watch:{modules:{handler:function(t){localStorage.setItem("modules_info",JSON.stringify(t))},deep:!0}},mounted:function(){null!=localStorage.getItem("modules_info")&&(this.modules=JSON.parse(localStorage.getItem("modules_info")))},methods:{getTypeFriendlyName:function(t){switch(t){case 1:return"Flight Module";case 2:return"Motor Module";case 3:return"H750 Universal Module"}},getAppTypeFriendlyName:function(t){switch(t){case 1:return"DJI RC";case 2:return"LkTech Motor";case 3:return"HIPNUC IMU(CAN)";case 4:return"DSHOT600";case 5:return"DJI Motor";case 6:return"OnBoard PWM";case 7:return"External PWM";case 8:return"MS5837(30BA)";case 9:return"ADC";case 10:return"PMU(CAN)";case 11:return"SBUS RC";case 12:return"DM Motor"}},removeModule:function(t){this.modules.splice(t,1)},deepClone:function(t){var e=this;if(!t&&"object"!==Object(m["a"])(t))throw new Error("error arguments","deepClone");var a=t.constructor===Array?[]:{};return Object.keys(t).forEach((function(i){t[i]&&"object"===Object(m["a"])(t[i])?a[i]=e.deepClone(t[i]):a[i]=t[i]})),a}}}),d=p,_=(a("dd8d"),a("2877")),u=Object(_["a"])(d,n,c,!1,null,null,null),g=u.exports,v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-divider",[a("span",[t._v("Downloads")])]),a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{on:{click:t.loadAll}},[t._v("Refresh")]),a("el-button",{on:{click:t.downloadAll}},[t._v("Download configuration file")])],1),a("el-divider",[a("span",[t._v(" Split views ")])]),a("div",[a("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t._v(" Header ")]),a("div",{staticClass:"text item code",staticStyle:{"white-space":"pre-wrap"}},[t._v(t._s(t.header))])]),t._l(t.modules,(function(e){return a("el-card",{key:e.sn,staticClass:"box-card",attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t._v(" Slave "),a("b",[a("u",[t._v(t._s(t.modules.indexOf(e)))])]),t._v(" - sn "),a("b",[a("u",[t._v(t._s(e.sn))])]),t._v(" - "),a("b",[a("u",[t._v(t._s(t.getTypeFriendlyName(e.type)))])]),t.generateModuleDef(e)[2]>t.getPdoLen(e.type)[0]?a("el-tag",{staticStyle:{"margin-left":"10px"},attrs:{type:"danger",size:"small"}},[t._v("TXPDO (slv to master) Overflow "+t._s(t.generateModuleDef(e)[2])+" / 80")]):t._e(),t.generateModuleDef(e)[3]>t.getPdoLen(e.type)[1]?a("el-tag",{staticStyle:{"margin-left":"10px"},attrs:{type:"danger",size:"small"}},[t._v("RXPDO (master to slv) Overflow "+t._s(t.generateModuleDef(e)[3])+" / 80")]):t._e(),t.generateModuleDef(e)[3]>t.getPdoLen(e.type)[1]||t.generateModuleDef(e)[2]>t.getPdoLen(e.type)[0]?t._e():a("el-tag",{staticStyle:{"margin-left":"10px"},attrs:{type:"success",size:"small"}},[t._v("OK")])],1),a("div",{staticClass:"text item code",staticStyle:{"white-space":"pre-wrap"}},[t._v(t._s(t.generateModuleDef(e)[0]))])])}))],2)],1)},f=[],b=(a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("25f0"),a("2ca0"),a("99af"),a("ac1f"),a("5319"),a("5b81"),{name:"Generator",data:function(){return{modules:[],header:"slaves:\n",tail:"};"}},mounted:function(){this.loadAll()},methods:{getTypeFriendlyName:function(t){switch(t){case 1:return"Flight Module";case 2:return"Motor Module";case 3:return"H750 Universal Module"}},getPdoLen:function(t){switch(t){case 3:return[80,80]}},loadAll:function(){var t=this;this.update();var e=this.header;this.modules.forEach((function(a){e+=t.generateModuleDef(a)[0]})),console.log(e)},downloadAll:function(){var t=this,e=this.header;this.modules.forEach((function(a){e+=t.generateModuleDef(a)[0]}));var a=new Blob([e],{type:"text/plain;charset=utf-8"}),i=URL.createObjectURL(a),l=document.createElement("a");l.href=i,l.setAttribute("download","config.yaml"),document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(i)},update:function(){null!=localStorage.getItem("modules_info")&&(this.modules=JSON.parse(localStorage.getItem("modules_info")))},toHexStringWithPrefix:function(t){var e=t.toString(16);return e.startsWith("0x")?e:"0x"+(1===e.length?"0"+e:e)},get_length:function(t){return 4*this.countSubstrings(t,"float")+1*this.countSubstrings(t,"int8")+2*this.countSubstrings(t,"int16")+4*this.countSubstrings(t,"int32")},countSubstrings:function(t,e){if(0===e.length)return 0;var a=0,i=t.indexOf(e);while(-1!==i)a++,i=t.indexOf(e,i+e.length);return a},get_id:function(t,e){switch(t){case"0x200":return 512+e;case"0x2ff":case"0x2fe":case"0x1fe":return 516+e;case"0x1ff":return e>=1&&e<=4?516+e:512+e}},generateModuleDef:function(t){var e="",a=0,i=0,l=0;e+="      task_count: !uint8_t ".concat(t.task.length,"\n"),e+="      latency_pub_topic: !std::string '".concat(t.latency_topic,"'\n"),e+="\n      tasks:\n";for(var o=1;o<=t.task.length;o++)switch(e+="        - app_".concat(o,":\n"),e+="            sdowrite_task_type: !uint8_t ".concat(t.task[o-1].type,"\n"),t.task[o-1].type){case 1:e+="            pub_topic: !std::string '".concat(t.task[o-1].read_topic||"/ecat/sn".concat(t.sn,"/app").concat(o,"/read"),"'\n"),e+="            pdoread_offset: !uint16_t ".concat(l,"\n"),a+=1,l+=19;break;case 2:e+="            sdowrite_control_period: !uint16_t ".concat(t.task[o-1].control_period,"\n"),e+="            sdowrite_can_packet_id: !uint32_t ".concat(this.toHexStringWithPrefix(t.task[o-1].can_packet_id),"\n"),e+="            sdowrite_can_inst: !uint8_t ".concat(t.task[o-1].can_inst,"\n"),e+="            sdowrite_control_type: !uint8_t ".concat(t.task[o-1].control_type,"\n"),e+="            pub_topic: !std::string '".concat(t.task[o-1].read_topic||"/ecat/sn".concat(t.sn,"/app").concat(o,"/read"),"'\n"),e+="            sub_topic: !std::string '".concat(t.task[o-1].write_topic||"/ecat/sn".concat(t.sn,"/app").concat(o,"/write"),"'\n"),e+="            pdoread_offset: !uint16_t ".concat(l,"\n"),e+="            pdowrite_offset: !uint16_t ".concat(i,"\n"),a+=9,l+=7,i+=7;break;case 3:e+="            pub_topic: !std::string '".concat(t.task[o-1].read_topic||"/ecat/sn".concat(t.sn,"/app").concat(o,"/read"),"'\n"),e+="            pdoread_offset: !uint16_t ".concat(l,"\n"),a+=1,l+=21;break;case 4:e+="            sdowrite_dshot_id: !uint8_t ".concat(t.task[o-1].dshot_id,"\n"),e+="            sdowrite_init_value: !uint16_t ".concat(t.task[o-1].init_value,"\n"),e+="            sub_topic: !std::string '".concat(t.task[o-1].write_topic||"/ecat/sn".concat(t.sn,"/app").concat(o,"/write"),"'\n"),e+="            pdowrite_offset: !uint16_t ".concat(i,"\n"),a+=4,i+=8;break;case 5:var r="",s=0;r+="            sdowrite_control_period: !uint16_t ".concat(t.task[o-1].control_period,"\n"),r+="            sdowrite_can_packet_id: !uint32_t ".concat(this.toHexStringWithPrefix(t.task[o-1].can_packet_id),"\n"),r+="            sdowrite_motor1_can_id: !uint32_t ".concat(t.task[o-1].motor_enable[0]?this.toHexStringWithPrefix(this.get_id(this.toHexStringWithPrefix(t.task[o-1].can_packet_id),t.task[o-1].motor_id[0])):0,"\n"),r+="            sdowrite_motor2_can_id: !uint32_t ".concat(t.task[o-1].motor_enable[1]?this.toHexStringWithPrefix(this.get_id(this.toHexStringWithPrefix(t.task[o-1].can_packet_id),t.task[o-1].motor_id[1])):0,"\n"),r+="            sdowrite_motor3_can_id: !uint32_t ".concat(t.task[o-1].motor_enable[2]?this.toHexStringWithPrefix(this.get_id(this.toHexStringWithPrefix(t.task[o-1].can_packet_id),t.task[o-1].motor_id[2])):0,"\n"),r+="            sdowrite_motor4_can_id: !uint32_t ".concat(t.task[o-1].motor_enable[3]?this.toHexStringWithPrefix(this.get_id(this.toHexStringWithPrefix(t.task[o-1].can_packet_id),t.task[o-1].motor_id[3])):0,"\n"),r+="            sdowrite_can_inst: !uint8_t ".concat(t.task[o-1].can_inst,"\n\n"),s+=24;for(var n=0,c=0,m=1;m<=4;m++)t.task[o-1].motor_enable[m-1]&&(n+=7,c+=3,s+=1,r+="            sdowrite_motor".concat(m,"_control_type: !uint8_t ").concat(t.task[o-1].motor_control_type[m-1],"\n"),t.task[o-1].motor_control_type[m-1]>1&&(r+="            sdowrite_motor".concat(m,"_speed_pid_kp: !float ").concat(t.task[o-1].motor_speed_pid_param[m-1].kp,"\n"),r+="            sdowrite_motor".concat(m,"_speed_pid_ki: !float ").concat(t.task[o-1].motor_speed_pid_param[m-1].ki,"\n"),r+="            sdowrite_motor".concat(m,"_speed_pid_kd: !float ").concat(t.task[o-1].motor_speed_pid_param[m-1].kd,"\n"),r+="            sdowrite_motor".concat(m,"_speed_pid_max_out: !float ").concat(t.task[o-1].motor_speed_pid_param[m-1].maxout,"\n"),r+="            sdowrite_motor".concat(m,"_speed_pid_max_iout: !float ").concat(t.task[o-1].motor_speed_pid_param[m-1].maxiout,"\n"),s+=20),t.task[o-1].motor_control_type[m-1]>2&&(r+="            sdowrite_motor".concat(m,"_angle_pid_kp: !float ").concat(t.task[o-1].motor_angle_pid_param[m-1].kp,"\n"),r+="            sdowrite_motor".concat(m,"_angle_pid_ki: !float ").concat(t.task[o-1].motor_angle_pid_param[m-1].ki,"\n"),r+="            sdowrite_motor".concat(m,"_angle_pid_kd: !float ").concat(t.task[o-1].motor_angle_pid_param[m-1].kd,"\n"),r+="            sdowrite_motor".concat(m,"_angle_pid_max_out: !float ").concat(t.task[o-1].motor_angle_pid_param[m-1].maxout,"\n"),r+="            sdowrite_motor".concat(m,"_angle_pid_max_iout: !float ").concat(t.task[o-1].motor_angle_pid_param[m-1].maxiout,"\n"),s+=20),r+="\n");a+=s,e+=r,e+="            pub_topic: !std::string '".concat(t.task[o-1].read_topic||"/ecat/sn".concat(t.sn,"/app").concat(o,"/read"),"'\n"),e+="            sub_topic: !std::string '".concat(t.task[o-1].write_topic||"/ecat/sn".concat(t.sn,"/app").concat(o,"/write"),"'\n"),e+="            pdoread_offset: !uint16_t ".concat(l,"\n"),e+="            pdowrite_offset: !uint16_t ".concat(i,"\n"),l+=n,i+=c;break;case 6:e+="            sdowrite_tim_id: !uint8_t ".concat(t.task[o-1].tim_id,"\n"),e+="            sdowrite_pwm_period: !uint16_t ".concat(t.task[o-1].expected_period,"\n"),e+="            sdowrite_init_value: !uint16_t ".concat(t.task[o-1].init_value,"\n"),e+="            sub_topic: !std::string '".concat(t.task[o-1].write_topic||"/ecat/sn".concat(t.sn,"/app").concat(o,"/write"),"'\n"),e+="            pdowrite_offset: !uint16_t ".concat(i,"\n"),a+=6,i+=8;break;case 7:e+="            sdowrite_uart_id: !uint8_t ".concat(t.task[o-1].uart_id,"\n"),e+="            sdowrite_pwm_period: !uint16_t ".concat(t.task[o-1].expected_period,"\n"),e+="            sdowrite_channel_num: !uint8_t ".concat(t.task[o-1].enabled_channel_count,"\n"),e+="            sdowrite_init_value: !uint16_t ".concat(t.task[o-1].init_value,"\n"),e+="            sub_topic: !std::string '".concat(t.task[o-1].write_topic||"/ecat/sn".concat(t.sn,"/app").concat(o,"/write"),"'\n"),e+="            pdowrite_offset: !uint16_t ".concat(i,"\n"),a+=7,i+=2*t.task[o-1].enabled_channel_count;break;case 8:e+="            sdowrite_i2c_id: !uint8_t ".concat(t.task[o-1].i2c_id,"\n"),e+="            sdowrite_osr_id: !uint8_t ".concat(t.task[o-1].osr_id,"\n"),e+="            pub_topic: !std::string '".concat(t.task[o-1].read_topic||"/ecat/sn".concat(t.sn,"/app").concat(o,"/read"),"'\n"),e+="            pdoread_offset: !uint16_t ".concat(l,"\n"),a+=3,l+=8;break;case 9:e+="            sdowrite_channel1_coefficient_per_volt: !float ".concat(t.task[o-1].coefficient0,"\n"),e+="            sdowrite_channel2_coefficient_per_volt: !float ".concat(t.task[o-1].coefficient1,"\n"),e+="            pub_topic: !std::string '".concat(t.task[o-1].read_topic||"/ecat/sn".concat(t.sn,"/app").concat(o,"/read"),"'\n"),e+="            pdoread_offset: !uint16_t ".concat(l,"\n"),a+=9,l+=8;break;case 10:e+="            pub_topic: !std::string '".concat(t.task[o-1].read_topic||"/ecat/sn".concat(t.sn,"/app").concat(o,"/read"),"'\n"),e+="            pdoread_offset: !uint16_t ".concat(l,"\n"),a+=1,l+=6;break;case 11:e+="            pub_topic: !std::string '".concat(t.task[o-1].read_topic||"/ecat/sn".concat(t.sn,"/app").concat(o,"/read"),"'\n"),e+="            pdoread_offset: !uint16_t ".concat(l,"\n"),a+=1,l+=24;break;case 12:e+="            sdowrite_control_period: !uint16_t ".concat(t.task[o-1].control_period,"\n"),e+="            sdowrite_can_id: !uint32_t ".concat(this.toHexStringWithPrefix(t.task[o-1].can_id),"\n"),e+="            sdowrite_master_id: !uint32_t ".concat(this.toHexStringWithPrefix(t.task[o-1].master_id),"\n"),e+="            sdowrite_can_inst: !uint8_t ".concat(t.task[o-1].can_inst,"\n"),e+="            sdowrite_control_type: !uint8_t ".concat(t.task[o-1].control_type,"\n"),e+="            sdowrite_pmax: !float ".concat(t.task[o-1].pmax,"\n"),e+="            sdowrite_vmax: !float ".concat(t.task[o-1].vmax,"\n"),e+="            sdowrite_tmax: !float ".concat(t.task[o-1].tmax,"\n"),e+="            pub_topic: !std::string '".concat(t.task[o-1].read_topic||"/ecat/sn".concat(t.sn,"/app").concat(o,"/read"),"'\n"),e+="            sub_topic: !std::string '".concat(t.task[o-1].write_topic||"/ecat/sn".concat(t.sn,"/app").concat(o,"/write"),"'\n"),e+="            pdoread_offset: !uint16_t ".concat(l,"\n"),e+="            pdowrite_offset: !uint16_t ".concat(i,"\n"),a+=13,l+=9,0===t.task[o-1].control_type||1===t.task[o-1].control_type?i+=9:2===t.task[o-1].control_type&&(i+=5);break}return e=e.replaceAll("\r",""),e="      sdo_len: !uint16_t ".concat(a+1,"\n")+e,e="  - sn".concat(t.sn,":\n")+e,[e+"\n",a+1,l,i]}}}),w=b,y=(a("846b"),Object(_["a"])(w,v,f,!1,null,"0c2d1a4a",null)),h=y.exports,S={name:"TaskAssignment",components:{NewGenerator:g,codeGen:h},mounted:function(){document.title="TaskAssignment"},data:function(){return{activeName:"assignment"}},methods:{call_update:function(){this.$refs.generator.update()}}},k=S,x=(a("034f"),Object(_["a"])(k,r,s,!1,null,null,null)),C=x.exports,M=a("bc3a"),z=a.n(M);i["default"].prototype.axios=z.a,i["default"].use(o.a),new i["default"]({el:"#app",render:function(t){return t(C)}})},"846b":function(t,e,a){"use strict";a("0ff9")},"85ec":function(t,e,a){},c77e:function(t,e,a){},dd8d:function(t,e,a){"use strict";a("c77e")}});
//# sourceMappingURL=app.7435b744.js.map